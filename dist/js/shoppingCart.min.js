"use strict";$(function(){$(".theNav").each(function(n,t){var e=255+81*n;$(t).mouseenter(function(){$(this).next().css("left",e+"px").show()}),$(t).mouseleave(function(){$(this).next().hide()})}),$(window).scroll(function(){$(window).scrollTop()>=$(".header_container").height()?$(".nav_container").css({position:"fixed",top:"0px"}):$(".nav_container").css({position:"",top:""})});var n=$.cookie("cart")?$.cookie("cart"):"";if(console.log(n),n){var t=o(n=$.cookie("cart")?$.cookie("cart"):"");console.log(t);var e=0;for(var s in t){e++;var c=t[s];$(".shopping_quantity").html(e),console.log(c);var l=c.Onumber*c.price;console.log(l),html='\n            <div class="list_content list_content2">\n            <div class="packageType clearfix">\n                <span class="checkAll"></span>\n                <h3>品牌直发</h3>\n            </div>\n            <div class="blockBox">\n                <ul class="list_content_ul clearfix">\n                    <li class="cart_chk">\n                        <span class="checkAll"></span>\n                    </li>\n                    <li class="list_content_left">\n                        <p class="list_content_img border_color1">\n                            <img src="'.concat(c.picture,'" alt="">\n                        </p>\n                        <div class="list_content_info">\n                            <span class="list_content_name">').concat(c.brand,'</span><br>\n                            <span class="cName">').concat(s,'</span>\n                            <div class="list_content_infobox clearfix">\n                                <div class="sku_info">\n                                    <span class="list_content_color">颜色:<a>').concat(c.colour,'</a></span>\n                                    <span class="list_content_size">尺寸:<a>').concat(c.size,'</a></span>\n                                </div>\n                                <div class="btn_edit">\n                                    <span>修改</span>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                    <li class="unit-price price-box">\n                        <p class="itemPrice">￥<span>').concat(c.price,'</span>.00</p>\n                    </li>\n                    <li>\n                        <div class="number_choose chooseBox">\n                            <span class="number_reduce number_reduce_none" id="countReduce">-</span>\n                            <span class="quantity_number">\n                             <input type="text" value="').concat(c.Onumber,'" class="quantity">\n                            </span>\n                            <span id="countAdd" class="number_increase">+</span>\n                        </div>\n                        <div class="special2"><a>库存不足</a></div>\n                    </li>\n                    <li class="unit-price">\n                            ￥0.00\n                    </li>\n                    <li class="amount">\n                        ￥<span>').concat(l,'</span>.00\n                    </li>\n                    <li class="li_pop">\n                        <button class="list_content_delete deleteBox">删除</button>\n                    </li>\n                </ul>\n            </div>\n        </div>\n            '),$(".listV3").after(html),console.log($(".deleteBox"))}}else;function a(){var n=$(this).parents(".list_content_ul").find(".cName").html(),t=o($.cookie("cart")?$.cookie("cart"):"");if(t[n].Onumber++,$(this).parents(".blockBox").find(".cart_chk span").hasClass("checkedItem")){$(this).prev().children(".quantity").val(""+t[n].Onumber);var e=t[n].Onumber*t[n].price;$(this).parents(".list_content_ul").find(".amount").children("span").html(e),$(this).parents("#bagContent").find(".gwd_total .list_content_size a").html(e)}else alert("请选中之后再点击");$.cookie("cart",JSON.stringify(t),{expires:7,path:"/"})}function i(){var n=$(this).parents(".list_content_ul").find(".cName").html(),t=o($.cookie("cart")?$.cookie("cart"):"");if(t[n].Onumber--,t[n].Onumber<1&&(t[n].Onumber=1),console.log($(this).parents(".blockBox").find(".cart_chk span")),$(this).parents(".blockBox").find(".cart_chk span").hasClass("checkedItem")){$(this).next().children(".quantity").val(""+t[n].Onumber);var e=t[n].Onumber*t[n].price;console.log("有"),$(this).parents(".list_content_ul").find(".amount").children("span").html(e),$(this).parents("#bagContent").find(".gwd_total .list_content_size a").html(e)}else alert("请选中之后再点击");$.cookie("cart",JSON.stringify(t),{expires:7,path:"/"})}function o(n){return n?JSON.parse(n):{}}console.log($(".deleteBox")),$(".deleteBox").click(function(){var n=$(this).parents(".list_content_ul").find(".cName").html();console.log(n);var t=$.cookie("cart")?$.cookie("cart"):"",e=o(t);delete e[n],t=JSON.stringify(e),$.cookie("cart",t,{expires:7,path:"/"}),console.log(t),$(this).parents(".list_content").remove()}),$(".payPlane .checkAll").on("click",function(){console.log($(this).parents("#bagContent").find(".list_content").length),$(this).parents(".checkAllBox").find("#checkedNum").html($(this).parents("#bagContent").find(".list_content").length),console.log($(".list_content_ul .cart_chk span")),$(".list_content_ul .cart_chk span").hasClass("checkAll")?alert("有"):alert("没有"),$(this).parents(".payPlane").siblings().find(".checkAll").addClass("checkAll").toggleClass("checkedItem"),$(this).addClass("checkAll").toggleClass("checkedItem");$(this).parents(".payPlane").siblings().find(".cart_chk span").hasClass("checkedItem")?($(".gwd_total .list_content_size a").html($(this).parents(".payPlane").siblings().find(".amount span").html()),console.log($(this).parents("#bagContent").find("#countReduce")),$(this).parents("#bagContent").find("#countReduce").on("click",i),$(this).parents("#bagContent").find("#countAdd").on("click",a)):(console.log(1),$(this).parents(".checkAllBox").find("#checkedNum").html(0),$(".gwd_total .list_content_size a").html(0))}),$(".list_content .blockBox .cart_chk span").click(function(){if($(this).parents("#bagContent").find("#checkedNum").html($(this).parents("#bagContent").find(".list_content2").length),$(this).hasClass("checkAll")?($(this).parents(".list_content").find(".packageType span").addClass("checkedItem").removeClass("checkAll"),$(this).addClass("checkedItem").toggleClass("checkAll")):($(this).parents(".list_content").find(".packageType span").addClass("checkAll").removeClass("checkedItem"),$(this).addClass("checkAll").toggleClass("checkedItem")),console.log($(this).hasClass("checkedItem")),$(this).hasClass("checkedItem")){var n=Number($(".gwd_total .list_content_size a").html());alert("选中了"),console.log($(this).parents(".list_content_ul").find("#countReduce")),$(this).parents(".list_content_ul").find("#countReduce").on("click",i),$(this).parents(".list_content_ul").find("#countAdd").on("click",a),n+=Number($(this).parents(".list_content_ul").find(".amount span").html()),$(".gwd_total .list_content_size a").html(n)}else alert("没有选中"),$(this).parents("#bagContent").find("#checkedNum").html(0),$(".gwd_total .list_content_size a").html(0)}),$(".register").click(function(){location.href="./register.html"}),$(".Signin").click(function(){location.href="./Signin.html"})});